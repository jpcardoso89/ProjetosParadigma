<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" 
	>
	
<h:head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
      <title> Cadastro de Times</title>
</h:head>
	<h:body>
		<p:messages id="messages" showDetail="false" showSummary="true" autoUpdate="true" closable="true" />
		<p:button value="Consultar Time" outcome="consultaTime"/>
		<p:button value="Consultar Campeonato" outcome="consultaCampeonato"/>
		<h:form id="frm">
			<p:panelGrid columns="2" id="panel">
				
				<f:facet name="header">
					Cadastro de Times
				</f:facet>
				<h:outputText value="Nome" />
				<h:inputText value="#{cadastroTimeBean.time.nome}"/>
				
				<h:outputText value="Participar do Campeonato"/>
				<p:selectBooleanCheckbox value="#{cadastroTimeBean.time.participar}" onchange="submit()" 
					immediate="true" valueChangeListener="#{cadastroTimeBean.participacaoModificado}">
				</p:selectBooleanCheckbox>	
				
				<h:outputText value="Campeonato" rendered="#{cadastroTimeBean.time.participar}"/>
				<p:selectOneMenu id="listaCampeonatos" value="#{cadastroTimeBean.time.campeonato}" rendered="#{cadastroTimeBean.time.participar}">
					<f:selectItem itemLabel="Selecione" noSelectionOption="true" />
					<f:selectItems value="#{cadastroTimeBean.campeonatos}" var="campeonato"
						itemValue="#{campeonato}" itemLabel="#{campeonato.nome}"/>
				</p:selectOneMenu>
			</p:panelGrid>
				<p:commandButton value="Salvar" action="#{cadastroTimeBean.salvar}"/>	
		</h:form>

	</h:body>
</html>